<ion-view title="编辑客户" class="my-tab-space-name" id="editPage">

	<ion-nav-buttons side="left">
		<a class="button button-clear button-dark icon-white" ng-click="commonModule.goBack()">取消</a>
	</ion-nav-buttons>
	<ion-nav-buttons side="right">
		<a class="button button-clear button-dark icon-white" ng-click="editUsrModule.fn.submitDataFn()">保存</a>
	</ion-nav-buttons>

	<div style="width:100%;position:absolute;bottom:0px;" class="has-header">
		<div class="bar tab">
			<div class=" button-bar">
				<button class="button font_black" ng-class="{ 'button\-positive': editUsrModule.attr.tabIndex == 'basicMsg' }" ng-click="editUsrModule.fn.setPlatformFn('basicMsg')">
					基本信息
				</button>
				<button class="button font_black" ng-class="{ 'button\-positive': editUsrModule.attr.tabIndex == 'contact' }" ng-click="editUsrModule.fn.setPlatformFn('contact')">
					联系方式
				</button>
				<button class="button font_black" ng-class="{ 'button\-positive': editUsrModule.attr.tabIndex == 'relationship' }" ng-click="editUsrModule.fn.setPlatformFn('relationship')">
					关系信息
				</button>
			</div>
		</div>
		<ion-content padding="false" ng-show="editUsrModule.attr.tabIndex == 'basicMsg'" class="normalForm">
			<form name="basicMsgForm" novalidate>
				<!--身份信息-->
				<div class="card" style="margin-top:0px;">
				  <div class="item item-divider font-color-red">
				    身份信息
				  </div>

				  <div class="item item-text-wrap">
				  	<!--客户姓名-->
				    <div class="row noPadding item-margin-bottom-15px">
						<div class="col col-50 noPadding">
							<label class="item item-input my-item-input">
							  <input type="text" 
							  		 ng-model="editUsrModule.data.REAL_NAME" 
							  		 placeholder="客户姓名" 
							  		 ng-disabled="true">
							</label>
						</div>
				    </div>
					
					<!--客户性别-->
				    <div class="row noPadding item-margin-bottom-15px">
				    	<div class="col col-25 noPadding">
				    		<div class="row noPadding">
								<div class="col noPadding">
									<div class="list margin-right-6px">
									  <label class="item item-radio border-none">
									    <input type="radio" ng-model="editUsrModule.data.SEX" ng-disabled="true" value="男">
									    <div class="my-item-content border-red-1px">
									      男
									    </div>
									  </label>
									</div>
								</div>
								<div class="col noPadding">
									<div class="list margin-left-6px">
									  <label class="item item-radio border-none">
									    <input type="radio" ng-model="editUsrModule.data.SEX" ng-disabled="true" value="女">
									    <div class="my-item-content border-red-1px">
									      女
									    </div>
									  </label>
									</div>
								</div>
							</div>
				    	</div>
				    </div>

				    <!--客户类型-->
				    <div class="row noPadding item-margin-bottom-15px">
						<div class="col col-50 noPadding">
							<div class="list">
							  <label class="item item-input my-item-select noPadding">
							    <div class="input-label">
							      客户类型
							    </div>
							    <select ng-model="editUsrModule.data.TYPE" ng-options="type for type in editUsrModule.staticData.ClientType">
							      <option value="">请选择客户类型</option>
							    </select>
							  </label>
							</div>
						</div>
				    </div>

				    <!--客户来源-->
				    <div class="row noPadding item-margin-bottom-15px">
						<div class="col col-50 noPadding">
							<div class="list">
							  <label class="item item-input my-item-select noPadding">
							    <div class="input-label">
							      客户来源
							    </div>
							     <select ng-model="editUsrModule.data.SOURCE" ng-options="type for type in editUsrModule.staticData.ClientSource">
							      <option value="">请选择客户来源</option>
							    </select>
							  </label>
							</div>
						</div>
				    </div>

				    <!--客户名族-->
				    <div class="row noPadding item-margin-bottom-15px">
						<div class="col col-50 noPadding">
							<div class="row noPadding">
								<div class="col noPadding-left">
									<div class="list">
									  <label class="item item-input my-item-select noPadding">
									    <div class="input-label">
									      客户名族
									    </div>
									    <select ng-model="editUsrModule.data.NATIONALITY" ng-options="type for type in editUsrModule.staticData.ClientNation">
									      <option value="">名族</option>
									    </select>
									  </label>
									</div>
								</div>
								<!--婚姻状况-->
								<div class="col">
									<div class="list relative">
									  <span class="mustNeedIcon ion-asterisk" 
											  ng-class="{'mustNeedIconShow':editUsrModule.mustNeedData.indexOf('MARRI_STATUS') != -1}">
									  </span>
									  <label class="item item-input my-item-select noPadding">
									    <div class="input-label">
									      婚姻状况
									    </div>
									    <select ng-model="editUsrModule.data.MARRI_STATUS" ng-options="type for type in editUsrModule.staticData.MARRI_STATUS">
									      <option value="">婚姻状况</option>
									    </select>
									  </label>
									</div>
								</div>
								<!--学历-->
								<div class="col noPadding-right">
									<div class="list">
									  <label class="item item-input my-item-select noPadding">
									    <div class="input-label">
									      学历
									    </div>
									    <select ng-model="editUsrModule.data.EDUCATION" ng-options="type for type in editUsrModule.staticData.EducationBackground">
									      <option value="">学历</option>
									    </select>
									  </label>
									</div>
								</div>
							</div>
							
						</div>
				    </div>

				    <!--国籍-->
				    <div class="row noPadding item-margin-bottom-15px relative">
				    	<span class="mustNeedIcon ion-asterisk" 
				    		  ng-class="{'mustNeedIconShow':editUsrModule.mustNeedData.indexOf('NATIVE_PLACE') != -1}">
				    	</span>
						<div class="col col-50 noPadding">
							<div class="list">
							  <label class="item item-input my-item-select noPadding">
							    <div class="input-label">
							      国籍
							    </div>
							    <select ng-model="editUsrModule.data.NATIVE_PLACE" ng-options="type for type in editUsrModule.staticData.Nationality">
							      <option value="">请选择国籍</option>
							    </select>
							  </label>
							</div>
						</div>
				    </div>

				    <!--客户地址-->
				    <div class="row noPadding item-margin-bottom-15px relative">
				    	<span class="mustNeedIcon ion-asterisk" 
				    		  ng-class="{'mustNeedIconShow':editUsrModule.mustNeedData.indexOf('RGT_PROVINCE') != -1}">
				    	</span>
				    	<div class="col col-50 noPadding">
				    		<div class="row noPadding">
				    			<div class="col noPadding-left">
									<div class="list">
									  <label class="item item-input my-item-select noPadding">
									    <div class="input-label">
									      省
									    </div>
									    <select ng-model="editUsrModule.data.RGT_PROVINCE" ng-options="item for item in editUsrModule.adress.basicAfress.province">
									      <option value="">省</option>
									    </select>
									  </label>
									</div>
								</div>
								<div class="col">
									<div class="list">
									  <label class="item item-input my-item-select noPadding">
									    <div class="input-label">
									      城市
									    </div>
									    <select ng-model="editUsrModule.data.RGT_CITY" ng-options="item for item in editUsrModule.adress.basicAfress.city">
									      <option value="">市</option>
									    </select>
									  </label>
									</div>
								</div>
								<div class="col noPadding-right">
									<div class="list">
									  <label class="item item-input my-item-select noPadding">
									    <div class="input-label">
									      地区
									    </div>
									    <select ng-model="editUsrModule.data.HOUSEHOLD_COUNTY" ng-options="item for item in editUsrModule.adress.basicAfress.county">
									      <option value="">区(县)</option>
									    </select>
									  </label>
									</div>
								</div>
				    		</div>
				    	</div>
				    </div>

					<!--详细地址-->
					<div class="row noPadding item-margin-bottom-15px">
						<div class="col col-50 noPadding">
							<div class="my-text-input">
								<input type="text"
									   ng-model="editUsrModule.data.HOUSEHOLD_ADRESS"
									   ng-blur="editUsrModule.formCheckFn.checkAddress(editUsrModule.data.HOUSEHOLD_ADRESS, 'houseAddressErrorMsg')" 
									   placeholder="请输入详细地址">
							</div>
						</div>
						<div class="col col-50 noPadding">
							<p class="error-font houseAddressErrorMsg">地址输入有误,不允许输入标点符号</p>
						</div>
				    </div>

				    <!--证件类型-->
				    <div class="row noPadding item-margin-bottom-15px relative">
				    	<span class="mustNeedIcon ion-asterisk" 
				    		  ng-class="{'mustNeedIconShow':editUsrModule.mustNeedData.indexOf('IDTYPE') != -1}">
				    	</span>
						<div class="col col-50 noPadding">
							<div class="list">
							  <label class="item item-input my-item-select noPadding">
							    <div class="input-label">
							      证件类型
							    </div>
							    <select ng-model="editUsrModule.data.IDTYPE" ng-options="type for type in editUsrModule.staticData.CertificateType">
							      <option value="">证件类型</option>
							    </select>
							  </label>
							</div>
						</div>
						<div class="col col-50 noPadding">
							<p class="error-font idtypeErrorMsg"></p>
						</div>
				    </div>

				    <!--证件号码-->
				    <div class="row noPadding item-margin-bottom-15px relative">
				    	<span class="mustNeedIcon ion-asterisk" 
				    		  ng-class="{'mustNeedIconShow':editUsrModule.mustNeedData.indexOf('IDNO') != -1}">
				    	</span>
						<div class="col col-50 noPadding">
							<div class="my-text-input">
								<input type="text"
									   ng-model="editUsrModule.data.IDNO" 
									   placeholder="请输入证件号码"
									   ng-blur="editUsrModule.formCheckFn.checkPersonId(editUsrModule.data.IDNO, 'idnoErrorMsg')">
							</div>
						</div>
						<div class="col col-50 noPadding">
							<p class="error-font idnoErrorMsg"></p>
						</div>
				    </div>

				    <!--出生日期-->
				    <birthday
				    	parent-scope-birthay="editUsrModule.data.BIRTHDAY" 
				    	parent-scope-age="editUsrModule.data.AGE" 
				    	parent-scope-id="editUsrModule.data.IDNO" 
				    	parent-scope-id-card-pass-dont-pass="editUsrModule.attr.idCardPassDontPass"
				    	parent-scope-form-pass="editUsrModule.attr.basicMsgFormPass"
				    	parent-scope-idcardlongtime="editUsrModule.attr.idCardLongTime"
				    	parent-scope-mustneeddata="editUsrModule.mustNeedData"
				    	parent-scope-agepass="editUsrModule.attr.agePass"
				    	parent-scope-idtype="editUsrModule.data.IDTYPE">
				    </birthday>
					
					<!--身份有效期-->
				    <div class="row noPadding item-margin-bottom-15px relative">
				    	<span class="mustNeedIcon ion-asterisk" 
				    		  ng-class="{'mustNeedIconShow':editUsrModule.mustNeedData.indexOf('ID_END_DATE') != -1}">
				    	</span>
						<div class="col col-50 noPadding">
							<div class="my-text-input hasRightIcon">
								<input ng-model="editUsrModule.data.ID_END_DATE" 
									   type="text" 
									   placeholder="身份有效期">
								<div class="hide-div"></div>
							    <a class="my-calendar" 
							       ng-click="editUsrModule.fn.useDatePluginFn()"></a>
							</div>
						</div>
						<div class="col col-50 noPadding">
							<div class="mycheckbox-box">
								<li class="item my-item-checkbox">
									<label class="my-checkbox">
										<input ng-model="editUsrModule.attr.idCardLongTime" type="checkbox">
										<div class="my-checkbox-bg"></div>
										<div class="my-checkbox-font">长期有效</div>
									</label>
								</li>
							</div>
						</div>
				    </div>
				  </div>
				</div>
				
				<!--收入信息-->
				<div class="card">
				  <div class="item item-divider font-color-red">
				    收入信息
				  </div>
				  <div class="item item-text-wrap">
				    <div class="row noPadding item-margin-bottom-15px relative">
				    	<span class="mustNeedIcon ion-asterisk" 
				    		  ng-class="{'mustNeedIconShow':editUsrModule.mustNeedData.indexOf('INCOME') != -1}">
				    	</span>
						<div class="col col-50 noPadding">
							<div class="my-text-input hasRightText">
								<input ng-model="editUsrModule.data.INCOME" 
									   ng-blur="editUsrModule.formCheckFn.checkCommon(editUsrModule.data.INCOME, 'income', 'incomeErrorMsg')"
									   type="text" 
									   placeholder="年收入">
								<span>万元</span>
							</div>
						</div>
						<div class="col col-50 noPadding">
							<p class="error-font incomeErrorMsg"></p>
						</div>
				    </div>
					<div class="row noPadding item-margin-bottom-15px relative">
						<span class="mustNeedIcon ion-asterisk" 
				    		  ng-class="{'mustNeedIconShow':editUsrModule.mustNeedData.indexOf('INCOME_WAY') != -1}">
				    	</span>
						<div class="col col-50 noPadding">
							<div class="row noPadding">
								<div class="col" ng-repeat="ct in editUsrModule.staticData.companyType">
									<div class="list">
									  <label class="item item-radio border-none">
									    <input type="radio" ng-model="editUsrModule.data.INCOME_WAY" value="{{ct}}">
									    <div class="my-item-content border-red-1px">
									      {{ct}}
									    </div>
									  </label>
									</div>
								</div>
								<div class="col">
									<div class="mycheckbox-box-other">
										<li class="item my-item-checkbox-other">
											<label class="my-checkbox-other">
												<input ng-model="editUsrModule.attr.incomeOtherWay" type="checkbox">
												<div class="my-checkbox-bg-other"></div>
												<div class="my-checkbox-font-other">其他</div>
											</label>
										</li>
									</div>
								</div>
							</div>
						</div>
					</div>

					<!--其他收入来源-->
					<div class="row noPadding item-margin-bottom-15px" ng-show="editUsrModule.attr.incomeOtherWay">
						<div class="col col-50 noPadding">
							<div class="my-text-input">
								<input ng-model="editUsrModule.data.OTHER_INCOME_WAY"
									   type="text" 
									   ng-blur="editUsrModule.formCheckFn.checkCommon(editUsrModule.data.OTHER_INCOME_WAY, 'otherincome', 'otherincomeErrorMsg')"
									   placeholder="其他收入来源">
							</div>
						</div>
						<div class="col col-50 noPadding">
							<p class="error-font otherincomeErrorMsg">格式错误，不允许输入标点</p>
						</div>
				    </div>
					
					<!--请选择客户职业-->
					<div class="row noPadding item-margin-bottom-15px relative">
						<span class="mustNeedIcon ion-asterisk" 
				    		  ng-class="{'mustNeedIconShow':editUsrModule.mustNeedData.indexOf('OCCUPATION_CODE_NAME') != -1}">
				    	</span>
						<div class="col col-50 noPadding">
							<div class="my-text-input hasRightIcon">
								<div class="inputTextBox">
									<div class="placeholder" ng-show="!editUsrModule.attr.occupationSelected">
										请选择客户职业
									</div>
									<div class="occupationLabelBox" ng-show="editUsrModule.attr.occupationSelected">
										<span>{{editUsrModule.data.OCCUPATION_CODE_NAME}}</span>
										<span>{{editUsrModule.data.OCCUPATION_CODE}}</span>
										<span>{{editUsrModule.data.OCCUPATION_CODE_TYPE}}</span>
									</div>
								</div>
								<div class="hide-div"></div>
								<a class="button 
										  button-icon 
										  icon 
										  ion-ios-search" 
							       ng-click="editUsrModule.fn.openModal()">
							    </a>
							</div>
						</div>
				    </div>

				    <!--请输入现工作单位-->
					<div class="row noPadding item-margin-bottom-15px">
						<div class="col col-50 noPadding">
							<div class="my-text-input">
								<input ng-model="editUsrModule.data.WORK_UNIT" 
								       type="text" 
								       ng-blur="editUsrModule.formCheckFn.checkCommon(editUsrModule.data.WORK_UNIT, 'otherincome', 'nowWorkErrorMsg')"
								       placeholder="请输入现工作单位">
							</div>
						</div>
						<div class="col col-50 noPadding">
							<p class="error-font nowWorkErrorMsg"></p>
						</div>
				    </div>
				  </div>
				</div>
				
				<!--其他信息-->
				<div class="card">
				  <div class="item item-divider font-color-red">
				    其他信息
				  </div>
				  <div class="item item-text-wrap">

				  	<!--身高-->
				  	<div class="row noPadding item-margin-bottom-15px">
						<div class="col col-50 noPadding">
							<div class="my-text-input hasRightText">
								<input ng-model="editUsrModule.data.HEIGHT"
									   ng-blur="editUsrModule.formCheckFn.checkCommon(editUsrModule.data.HEIGHT, 'personheight', 'heightErrorMsg')"
									   type="text" 
									   placeholder="身高">
								<span>CM</span>
							</div>
						</div>
						<div class="col col-50 noPadding">
							<p class="error-font heightErrorMsg"></p>
						</div>
				    </div>

				    <!--体重-->
				    <div class="row noPadding item-margin-bottom-15px">
				    	<div class="col col-50 noPadding">
				    		<div class="my-text-input hasRightText">
								<input ng-model="editUsrModule.data.WEIGHT"
									   type="text" 
									   ng-blur="editUsrModule.formCheckFn.checkCommon(editUsrModule.data.WEIGHT, 'personweight', 'weightErrorMsg')"
									   placeholder="体重">
								<span>KG</span>
							</div>
				    	</div>
				    	<div class="col col-50 noPadding">
							<p class="error-font weightErrorMsg"></p>
						</div>
				    </div>

				    <!--客户爱好-->
				    <div class="row noPadding item-margin-bottom-15px">
						<div class="col col-50 noPadding">
							<div class="my-text-input">
								<input ng-model="editUsrModule.data.HOBBY" 
									   type="text" 
									   ng-blur="editUsrModule.formCheckFn.checkCommon(editUsrModule.data.HOBBY, 'otherincome', 'customFaviorateErrorMsg')"
									   placeholder="客户爱好">
							</div>
						</div>
						<div class="col col-50 noPadding">
							<p class="error-font customFaviorateErrorMsg"></p>
						</div>
				    </div>

				    <!--客户特殊纪念日-->
				    <div class="row noPadding item-margin-bottom-15px">
						<div class="col col-50 noPadding">
							<div class="my-text-input hasRightIcon">
								<input ng-model="editUsrModule.data.ANNIVERSARY" 
									   type="text" 
									   placeholder="客户特殊纪念日">
								<div class="hide-div"></div>
								<a class="button button-icon icon ion-ios-calendar-outline" 
								   ng-click="editUsrModule.fn.chooseMyDate()"></a>
							</div>
						</div>
						<div class="col col-50"></div>
				    </div>
				  </div>
				</div>
				
				<!--客户倾向选择-->
				<div class="card">
				  <div class="item item-divider font-color-red">
				    客户倾向选择
				  </div>
				  <div class="item item-text-wrap">
				  	<div class="row noPadding item-margin-bottom-15px">
				  		<div class="col col-50 noPadding">
				  			<div class="row noPadding">
				  				<div class="col noPadding">
				  					<div class="list">
									  <label class="item item-input my-item-select noPadding">
									    <div class="input-label">
									      客户倾向选择
									    </div>
									    <select ng-model="editUsrModule.data.ACCOUNT_TENDENCY" ng-options="type for type in editUsrModule.staticData.ACCOUNT_TENDENCY">
									      <option value="">请选择客户倾向选择账户</option>
									    </select>
									  </label>
									</div>
				  				</div>
				  			</div>
				  		</div>
				  	</div>
				  </div>
				</div>

			</form>
		</ion-content>
		<ion-content padding="false" ng-show="editUsrModule.attr.tabIndex == 'contact'" class="normalForm">
			<form name="addressMsgForm" novalidate>
				<!--现居住地址信息-->
				<div class="card" style="margin-top:0px;">
				  <div class="item item-divider font-color-red">
				    现居住地址信息
				  </div>

				  <div class="item item-text-wrap">

					<!--客户地址-->
				    <div class="row noPadding item-margin-bottom-15px">
				    	<div class="col col-50 noPadding">
				    		<div class="row noPadding">
				    			<div class="col noPadding-left">
									<div class="list">
									  <label class="item item-input my-item-select noPadding">
									    <div class="input-label">
									      省
									    </div>
									    <select ng-model="editUsrModule.data.HOME_PROVINCE" 
									    		ng-options="type for type in editUsrModule.adress.homeAddress.province">
									      <option value="">省</option>
									    </select>
									  </label>
									</div>
								</div>
								<div class="col">
									<div class="list">
									  <label class="item item-input my-item-select noPadding">
									    <div class="input-label">
									      城市
									    </div>
									    <select ng-model="editUsrModule.data.HOME_CITY" 
									    		ng-options="type for type in editUsrModule.adress.homeAddress.city">
									      <option value="">市</option>
									    </select>
									  </label>
									</div>
								</div>
								<div class="col noPadding-right">
									<div class="list">
									  <label class="item item-input my-item-select noPadding">
									    <div class="input-label">
									      地区
									    </div>
									    <select ng-model="editUsrModule.data.HOME_COUNTY" 
									    	    ng-options="type for type in editUsrModule.adress.homeAddress.county">
									      <option value="">区(县)</option>
									    </select>
									  </label>
									</div>
								</div>
				    		</div>
				    	</div>
				    </div>

				    <!--详细地址-->
					<div class="row noPadding item-margin-bottom-15px">
						<div class="col col-50 noPadding">
							<div class="my-text-input">
								<input type="text"
									   ng-model="editUsrModule.data.HOME_ADDRESS"
									   ng-blur="editUsrModule.formCheckFn.checkAddress(editUsrModule.data.HOME_ADDRESS, 'liveAddressErrorMsg')" 
									   placeholder="请输入详细地址">
							</div>
						</div>
						<div class="col col-50 noPadding">
							<p class="error-font liveAddressErrorMsg"></p>
						</div>
				    </div>

				    <!--家庭电话-->
					<div class="row noPadding item-margin-bottom-15px">
						<div class="col col-50 noPadding">
							<div class="my-text-input">
								<input type="text" 
									   ng-model="editUsrModule.data.HOME_PHONE" 
									   ng-blur="editUsrModule.formCheckFn.checkCommon(editUsrModule.data.HOME_PHONE, 'tel', 'hometelErrorMsg')"
									   placeholder="请输入家庭电话">
							</div>
						</div>
						<div class="col col-50 noPadding">
							<p class="error-font hometelErrorMsg"></p>
						</div>
				    </div>

				    <!--家庭邮编-->
					<div class="row noPadding item-margin-bottom-15px">
						<div class="col col-50 noPadding">
							<div class="row noPadding">
								<div class="col col-60 noPadding-left">
									<div class="my-text-input">
										<input type="text" 
											   ng-model="editUsrModule.data.HOME_ZIP_CODE" 
											   ng-blur="editUsrModule.formCheckFn.checkCommon(editUsrModule.data.HOME_ZIP_CODE, 'postalZipCode', 'homePortlErrorMsg')"
											   placeholder="请输入家庭邮编">
									</div>
								</div>
								<div class="col noPadding-right">
									<div class="list">
									  <label class="item item-radio border-none">
									    <input type="radio" 
									    	   ng-model="editUsrModule.attr.mailingAddress" 
									    	   value="家庭地址">
									    <div class="my-item-content border-red-1px">
									      选为邮寄地址
									    </div>
									  </label>
									</div>
								</div>
							</div>
						</div>
						<div class="col col-50 noPadding">
							<p class="error-font homePortlErrorMsg"></p>
						</div>
				    </div>

				  </div>
				</div>
				
				<!--单位地址信息-->
				<div class="card">
				  <div class="item item-divider font-color-red">
				    单位地址信息
				  </div>
				  <div class="item item-text-wrap">

				    <!--客户地址-->
				    <div class="row noPadding item-margin-bottom-15px">
				    	<div class="col col-50 noPadding">
				    		<div class="row noPadding">
				    			<div class="col noPadding-left">
									<div class="list">
									  <label class="item item-input my-item-select noPadding">
									    <div class="input-label">
									      省
									    </div>
									    <select ng-model="editUsrModule.data.COMPANY_PROVINCE" 
									    	    ng-options="type for type in editUsrModule.adress.companyAddress.province">
									      <option value="">省</option>
									    </select>
									  </label>
									</div>
								</div>
								<div class="col">
									<div class="list">
									  <label class="item item-input my-item-select noPadding">
									    <div class="input-label">
									      城市
									    </div>
									    <select ng-model="editUsrModule.data.COMPANY_CITY" 
									    		ng-options="type for type in editUsrModule.adress.companyAddress.city">
									      <option value="">市</option>
									    </select>
									  </label>
									</div>
								</div>
								<div class="col noPadding-right">
									<div class="list">
									  <label class="item item-input my-item-select noPadding">
									    <div class="input-label">
									      地区
									    </div>
									    <select ng-model="editUsrModule.data.COMPANY_COUNTY" 
									    		ng-options="type for type in editUsrModule.adress.companyAddress.county">
									      <option value="">区(县)</option>
									    </select>
									  </label>
									</div>
								</div>
				    		</div>
				    	</div>
						
				    </div>

				    <!--详细地址-->
					<div class="row noPadding item-margin-bottom-15px relative">
						<span class="mustNeedIcon ion-asterisk" 
				    		  ng-class="{'mustNeedIconShow':editUsrModule.mustNeedData.indexOf('COMPANY_ADDRESS') != -1}">
				    	</span>
						<div class="col col-50 noPadding">
							<div class="my-text-input">
								<input type="text" 
									   ng-model="editUsrModule.data.COMPANY_ADDRESS" 
									   ng-blur="editUsrModule.formCheckFn.checkAddress(editUsrModule.data.COMPANY_ADDRESS, 'companyErrorMsg')"
									   placeholder="请输入详细地址">
							</div>
						</div>
						<div class="col col-50 noPadding">
							<p class="error-font companyErrorMsg"></p>
						</div>
				    </div>

				     <!--单位电话-->
					<div class="row noPadding item-margin-bottom-15px">
						<div class="col col-50 noPadding">
							<div class="my-text-input">
								<input type="text" 
									   ng-model="editUsrModule.data.COMPANY_PHONE" 
									   ng-blur="editUsrModule.formCheckFn.checkCommon(editUsrModule.data.COMPANY_PHONE, 'tel', 'companytelErrorMsg')"
									   placeholder="请输入单位电话">
							</div>
						</div>
						<div class="col col-50 noPadding">
							<p class="error-font companytelErrorMsg"></p>
						</div>
				    </div>

				    <!--单位邮编-->
					<div class="row noPadding item-margin-bottom-15px">
						<div class="col col-50 noPadding">
							<div class="row noPadding">
								<div class="col col-60 noPadding-left">
									<div class="my-text-input">
										<input type="text"
											   ng-model="editUsrModule.data.COMPANY_ZIP_CODE" 
											   ng-blur="addUsrModule.formCheckFn.checkCommon(addUsrModule.data.COMPANY_ZIP_CODE, 'postalZipCode', 'companyPortlErrorMsg')"
											   placeholder="请输入单位邮编">
									</div>
								</div>
								<div class="col noPadding-right">
									<div class="list">
									  <label class="item item-radio border-none">
									    <input type="radio" 
									    	   ng-model="editUsrModule.attr.mailingAddress" 
									    	   value="单位地址">
									    <div class="my-item-content border-red-1px">
									      选为邮寄地址
									    </div>
									  </label>
									</div>
								</div>
							</div>
							
						</div>
						<div class="col col-50 noPadding">
							<p class="error-font companyPortlErrorMsg">邮编格式错误</p>
						</div>
				    </div>
				  </div>
				</div>

				<!--联系电话-->
				<div class="card">
				  <div class="item item-divider font-color-red">
				    移动电话
				  </div>
				  <div class="item item-text-wrap">
				    
				    <!--移动电话-->
					<div class="row noPadding item-margin-bottom-15px relative">
						<span class="mustNeedIcon ion-asterisk" 
				    		  ng-class="{'mustNeedIconShow':editUsrModule.mustNeedData.indexOf('MOBILE') != -1}">
				    	</span>
						<div class="col col-50 noPadding">
							<div class="my-text-input">
								<input type="text" 
									   ng-model="editUsrModule.data.MOBILE" 
									   ng-blur="editUsrModule.formCheckFn.checkCommon(editUsrModule.data.MOBILE, 'phone', 'phoneErrorMsg')"
									   placeholder="请输入电话号码">
							</div>
						</div>
						<div class="col col-50 noPadding">
							<p class="error-font phoneErrorMsg">电话号码格式错误</p>
						</div>
				    </div>

				  </div>
				</div>

				<!--备注-->
				<div class="card">
				  <div class="item item-divider">
				    备注
				  </div>
				  <div class="item item-text-wrap">
					 <label class="item item-input">
					    <textarea ng-model="editUsrModule.data.REMARKS" placeholder="填写备注"></textarea>
					  </label>
				  </div>
				</div>
			</form>
		</ion-content>
		<ion-content padding="false" ng-show="editUsrModule.attr.tabIndex == 'relationship'">
			<div class="padding-bottom-50px">
				<!--已有家庭关系人-->
				<div class="list card" style="margin-top:0px;" ng-repeat="relation in editUsrModule.relationList">
				  <div class="item item-divider font-color-red">
				    <h2>{{relation.relationName?relation.relationName:relation.relationShipType.CODE_NAME}}</h2>
				    <!--style="display:inline-block;height:47px;margin:0px;line-height:47px;"-->
				    <!-- <a class="button button-icon icon ion-trash-a" style="float:right"></a>
				    <a class="button button-icon icon ion-edit" style="float:right"></a> -->
				  </div>

				  <div class="item item-body noPadding">
				    <div class="row backgroundGray">
				    	<div class="col col-20">
				    		姓名:
				    	</div>
				    	<div class="col">
				    		{{relation.REAL_NAME}}
				    	</div>
				    </div>
				    <div class="row">
				    	<div class="col col-20">
				    		性别:
				    	</div>
				    	<div class="col">
				    		{{relation.SEX}}
				    	</div>
				    </div>
				    <div class="row backgroundGray">
				    	<div class="col col-20">
				    		出生日期:
				    	</div>
				    	<div class="col">
				    		{{relation.BIRTHDAY | showDefaultData}}
				    	</div>
				    </div>
				    <div class="row">
				    	<div class="col col-20">
				    		年龄:
				    	</div>
				    	<div class="col">
				    		{{relation.AGE | ageFilter}}
				    	</div>
				    </div>
				  </div>
				</div>
				
				<!--添加新关系按钮-->
				<div ng-show="!editUsrModule.attr.relationForm">
					<div class="row">
						<div class="col">
							<button class="button button-block button-light font-color-red"
									ng-click="editUsrModule.fn.showAddRelationForm()">
							  点击添加家属信息
							</button>
						</div>
					</div>
				</div>

				<!--新建关系人-->
				<div class="list card" style="margin-top:0px;" ng-show="editUsrModule.attr.relationForm">

				  	<div class="item item-divider font-color-red">
				    	<h2>添加家属信息</h2>
				  	</div>

				  	<div class="item item-body">
					  	<form name="relationForm" class="addRelationForm" novalidate>
					  		<!--与本人关系-->
						    <div class="row backgroundGray noPadding item-margin-bottom-15px">
						    	<div class="col col-50 noPadding">
						    		<div class="list">
									  <label class="item item-input my-item-select noPadding">
									    <div class="input-label">
									      与本人关系
									    </div>
									    <select ng-model="editUsrModule.attr.relationShipDataCache.relationShipType" 
										    	ng-options="type.CODE_NAME for type in editUsrModule.staticData.Relationship"
										    	ng-change="editUsrModule.fn.selectRelationFn()">
									    	<option value="">请选择关系</option>
									    </select>
									  </label>
									</div>
						    	</div>
						    	<div class="col col-25 noPadding">
						    		<p class="error-font relationTypeErrorMsg"></p>
						    	</div>
						    </div>

						    <div class="row noPadding item-margin-bottom-15px">
						    	<div class="col col-50 noPadding">
						    		<div class="row noPadding">
						    			<div class="col col-50 noPadding">
						    				<div class="row noPadding">
						    					<div class="col noPadding">
						    						<div class="list" style="margin-right:5px;">
													  <label class="item item-radio border-none">
													    <input type="radio" 
													    	   value="男" 
													    	   ng-model="editUsrModule.attr.relationShipDataCache.SEX">
													    <div class="my-item-content border-red-1px">
													      男
													    </div>
													  </label>
													</div>
						    					</div>
						    					<div class="col noPadding">
						    						<div class="list">
													  <label class="item item-radio border-none">
													    <input type="radio"
													    	   ng-model="editUsrModule.attr.relationShipDataCache.SEX"
													    	   value="女">
													    <div class="my-item-content border-red-1px">
													      女
													    </div>
													  </label>
													</div>
						    					</div>
						    				</div>
						    			</div>
						    		</div>
						    	</div>
						    	<div class="col col-50 noPadding">
						    		<p class="error-font relationSexErrorMsg"></p>
						    	</div>
						    </div>

						    <!--姓名-->
						    <div class="row noPadding item-margin-bottom-15px">
								<div class="col col-50 noPadding">
									<label class="item item-input my-item-input">
									  <input type="text"
									  		 ng-blur="editUsrModule.formCheckFn.checkUsrName(editUsrModule.attr.relationShipDataCache.REAL_NAME, 'relationUsrNameErrorMsg')"
									  	     ng-model="editUsrModule.attr.relationShipDataCache.REAL_NAME"
									  	     placeholder="客户姓名">
									</label>
								</div>
								<div class="col col-50 noPadding">
						    		<p class="error-font relationUsrNameErrorMsg">输入姓名</p>
						    	</div>
						    </div>
							
							<!--出生日期-->
						    <birthday
						    	parent-scope-birthay="editUsrModule.attr.relationShipDataCache.BIRTHDAY" 
						    	parent-scope-age="editUsrModule.attr.relationShipDataCache.AGE"
						    	parent-scope-mustneeddata="[]"
						    	parent-scope-agepass="editUsrModule.attr.relationAgePass">
						    </birthday>
					  	</form>
				  	</div>
				</div>
			</div>	
		</ion-content>

		<!--提交按钮-->
		<div style="position:absolute; bottom:0px; width:100%; background:#fff" 
			 ng-show="editUsrModule.attr.tabIndex == 'relationship' && editUsrModule.attr.relationForm">
			
		    <div class="row">
				<div class="col col-50">
					<button class="button 
								   button-block 
								   button-light 
								   border-radius 
								   font-color-red 
								   border-red"
							ng-click="editUsrModule.fn.returnRelationForm()">
						取消
					</button>
				</div>
				<div class="col col-50">
					<button class="button 
								   button-block 
								   button-light 
								   border-radius 
								   font-color-red 
								   border-red" 
							ng-click="editUsrModule.fn.addRelationShipFn()">
						确定
					</button>
				</div>
		    </div>
		</div>
	</div>

</ion-view>

<script id="professionalModal.html" type="text/ng-template">
	<div class="modal border-radius">
		<div class="bar bar-header my-bar-red border-top font-color-white">
			<a  class="button 
					  button-clear 
					  button-dark 
					  icon-white" 
			    ng-click="editUsrModule.fn.closeModal()">取消
			</a>
		    <h1 class="title">职业代码查询</h1>
			<a  class="button 
				  button-clear 
				  button-dark 
				  icon-white" 
				ng-click="editUsrModule.fn.occupationSelect()"
				>完成
			</a>
		</div>
		<div class="my-content">
			<div class="row" style="padding-top:54px;">
				<div class="col">
					<div class="my-text-input hasRightIcon">
						<input ng-model="editUsrModule.attr.WORD" 
							   type="text" 
							   placeholder="请选择客户职业">

						<a class="button 
								  button-icon 
								  icon 
								  ion-ios-search" 
							ng-click="editUsrModule.fn.searchOccupation()">
					    </a>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col" ng-click="editUsrModule.fn.checkTheSearch()">
					<a class="button button-icon icon icon-red" 
					   ng-class="{'ion\-ios\-checkmark\-outline':!editUsrModule.attr.searchOccupationMacth,'ion\-ios\-checkmark':editUsrModule.attr.searchOccupationMacth}">
					</a>
					<span class="reminder-font">全文匹配</span>
				</div>
			</div>
			<div class="serach-box">
				<div class="table_title row">
					<div class="col font-color-red">职业代码</div>
					<div class="col font-color-red">职业名称</div>
					<div class="col font-color-red">职业类型</div>
				</div>
				<ion-content>
					<div class="items_content">
						<div ng-show="!editUsrModule.searchOccupationModel.length" class="searchEmpty">无搜索结果</div>
						<div class="table_items row"
							 ng-repeat="item in editUsrModule.searchOccupationModel">
				              <div class="col">{{item.OCCUPATION_CODE}}</div>
				              <div class="col">{{item.OCCUPATION_NAME}}</div>
				              <div class="col">{{item.OCCUPATION_TYPE}}</div>
				        </div>
					</div>
				</ion-content>
			</div>
		</div>
	</div>
</script>
